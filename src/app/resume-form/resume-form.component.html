<div class="container mt-5">
  <h2 class="text-center mb-4">📋 Resumes List</h2>

  <form (submit)="onSubmit()">
    
    <!-- معلومات المستخدم -->
    <div class="card p-3 mb-4">
      <h4 class="fw-bold">Personal Information</h4>
      <div class="mb-3">
        <label class="form-label">Full Name</label>
        <input type="text" class="form-control" [(ngModel)]="resumeData.fullName" name="fullName" required />
      </div>
      <div class="mb-3">
        <label class="form-label">Email Address</label>
        <input type="email" class="form-control" [(ngModel)]="resumeData.email" name="email" required />
      </div>
      <div class="mb-3">
        <label class="form-label">Phone Number</label>
        <input type="text" class="form-control" [(ngModel)]="resumeData.phoneNumber" name="phoneNumber" required />
      </div>
      <div class="mb-3">
        <label class="form-label">Address</label>
        <input type="text" class="form-control" [(ngModel)]="resumeData.address" name="address" required />
      </div>
      <div class="mb-3">
        <label class="form-label">Summary</label>
        <textarea class="form-control" rows="3" [(ngModel)]="resumeData.summary" name="summary" required></textarea>
      </div>
    </div>

    <!-- التعليم -->
    <div class="card p-3 mb-4">
      <h4 class="fw-bold">Education</h4>
      <div *ngFor="let edu of resumeData.educations; let i = index" class="border p-3 rounded bg-light mb-3">
        <div class="mb-2">
          <label class="form-label">Institution Name</label>
          <input type="text" class="form-control" [(ngModel)]="edu.institutionName" name="institutionName-{{i}}" required />
        </div>
        <div class="mb-2">
          <label class="form-label">Degree</label>
          <input type="text" class="form-control" [(ngModel)]="edu.degree" name="degree-{{i}}" required />
        </div>
        <div class="row">
          <div class="col-md-6 mb-2">
            <label class="form-label">Start Date</label>
            <input type="date" class="form-control" [(ngModel)]="edu.startDate" name="startDate-{{i}}" required />
          </div>
          <div class="col-md-6 mb-2">
            <label class="form-label">End Date</label>
            <input type="date" class="form-control" [(ngModel)]="edu.endDate" name="endDate-{{i}}" required />
          </div>
        </div>
        <button type="button" class="btn btn-danger btn-sm mt-2" (click)="removeEducation(i)">Remove</button>
      </div>
      <button type="button" class="btn btn-secondary btn-sm" (click)="addEducation()">+ Add Education</button>
    </div>

    <!-- المهارات -->
    <div class="card p-3 mb-4">
      <h4 class="fw-bold">Skills</h4>
      <div *ngFor="let skill of resumeData.skills; let k = index" class="border p-3 rounded bg-light mb-3">
        <div class="mb-2">
          <label class="form-label">Skill Name</label>
          <input type="text" class="form-control" [(ngModel)]="skill.skillName" name="skillName-{{k}}" required />
        </div>
        <button type="button" class="btn btn-danger btn-sm mt-2" (click)="removeSkill(k)">Remove</button>
      </div>
      <button type="button" class="btn btn-secondary btn-sm" (click)="addSkill()">+ Add Skill</button>
    </div>

    <!-- الخبرات -->
    <div class="card p-3 mb-4">
      <h4 class="fw-bold">Experience</h4>
      <div *ngFor="let exp of resumeData.experiences; let j = index" class="border p-3 rounded bg-light mb-3">
        <div class="mb-2">
          <label class="form-label">Company Name</label>
          <input type="text" class="form-control" [(ngModel)]="exp.companyName" name="companyName-{{j}}" required />
        </div>
        <div class="mb-2">
          <label class="form-label">Job Title</label>
          <input type="text" class="form-control" [(ngModel)]="exp.jobTitle" name="jobTitle-{{j}}" required />
        </div>
        <div class="row">
          <div class="col-md-6 mb-2">
            <label class="form-label">Start Date</label>
            <input type="date" class="form-control" [(ngModel)]="exp.startDate" name="startDate-{{j}}" required />
          </div>
          <div class="col-md-6 mb-2">
            <label class="form-label">End Date</label>
            <input type="date" class="form-control" [(ngModel)]="exp.endDate" name="endDate-{{j}}" required />
          </div>
        </div>
        <div class="mb-2">
          <label class="form-label">Description</label>
          <textarea class="form-control" [(ngModel)]="exp.description" name="description-{{j}}" required></textarea>
        </div>
        <button type="button" class="btn btn-danger btn-sm mt-2" (click)="removeExperience(j)">Remove</button>
      </div>
      <button type="button" class="btn btn-secondary btn-sm" (click)="addExperience()">+ Add Experience</button>
    </div>

    <!-- رفع السيرة الذاتية -->
    <div class="card p-3 mb-4">
      <h4 class="fw-bold">Upload Resume</h4>
      <input type="file" class="form-control" (change)="onFileChange($event)" />
      <div class="small text-muted mt-2">Upload your CV (PDF). Max file size 50 MB.</div>
    </div>

    <!-- زر الإرسال -->
    <div class="text-center">
      <button type="submit" class="btn btn-primary btn-lg px-5">Send Application</button>
    </div>

  </form>
</div>
